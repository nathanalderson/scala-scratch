/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'nathan' at '2/9/14 9:41 PM' with Gradle 1.10
 *
 * This generated file contains a commented-out sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at http://gradle.org/docs/1.10/userguide/tutorial_java_projects.html
 */

// Apply the java plugin to add support for Java
apply plugin : 'scala'
apply plugin : 'application'

mainClassName = "GameOfLife"

// In this section you declare where to find the dependencies of your project
repositories {
    // Use 'maven central' for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
    mavenCentral()
}

// In this section you declare the dependencies for your production and test code
dependencies {
    compile 'org.scala-lang:scala-library:2.10.3'
    runtime "org.scala-lang:scala-compiler:2.10.3"

    // Declare the dependency for your favourite test framework you want to use in your tests.
    testCompile 'org.scalatest:scalatest_2.10:2.0'
}

task test(overwrite: true, dependsOn: testClasses) << {
    ant.taskdef(name: 'scalatest',
        classname: 'org.scalatest.tools.ScalaTestAntTask',
        classpath: sourceSets.test.runtimeClasspath.asPath
    )
    ant.scalatest(
        runpath: sourceSets.test.output.classesDir,
        haltonfailure: 'true',
        fork: 'false') {reporter(type: 'stderr')}
}

// scalaConsole.dependsOn(build)
// scalaConsole.dependsOn(test)
scalaConsole.classpath += sourceSets.main.output
scalaTestConsole.classpath += sourceSets.test.output
